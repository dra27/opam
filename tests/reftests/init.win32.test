N0REP0
### : Redirection :
### rm -rf $OPAMROOT
### OPAMROOT="roots/with path"
### opam init --no-setup --bare --bypass-checks default REPO/ | grep -v Cygwin
No configuration file found, using built-in defaults.

<><> opam root file store <><><><><><><><><><><><><><><><><><><><><><><><><><><>

Your OPAMROOT environment variable contains a space.

Many parts of the OCaml ecosystem do not presently work correctly
when installed to directories containing spaces. You have been warned!

Where should opam store files?
> 1. Redirect files to a directory in C:\opamroot
  2. Redirect files to an alternate directory
  3. Do not redirect anything and stick with ${BASEDIR}/roots/with path
  4. Abort initialisation

[1/2/3/4] 1

<><> Fetching repository information ><><><><><><><><><><><><><><><><><><><><><>
[default] Initialised
### opam var root --debug --debug-level=-1 | '\\opam-.*' -> ''
CLI                             Parsing CLI version 2.2
GSTATE                          LOAD-GLOBAL-STATE @ C:\opamroot
C:\opamroot
### cat 'roots/with path/redirected-opamroot' | '\\opam-.*' -> ''
C:\opamroot
### opam switch create --empty test
### opam switch --debug --debug-level=-1 | '\\opam-.*' -> ''
CLI                             Parsing CLI version 2.2
GSTATE                          LOAD-GLOBAL-STATE @ C:\opamroot
SWITCH                          list
#   switch  compiler  description
->  test              test
### echo $OPAMROOT
roots/with path
### rm -rf 'C:\opamroot'
